[toc] 

## 一、Vue生命周期函数及其作用

#### 1、beforeCreated

> ​	Vue实例已经初始化，但还未对数据、dom进行加载。观察订阅模式还未配置好。

#### 2、created

> ​	实例已经创建好，观察订阅配置完毕。数据已经加载完成，可以对数据进行修改，但并不会触发update，因为dom还未加载。
>
> 此时一般会做一些异步的数据请求。

#### 3、beforeMounted

> ​	模板的dom还未挂载，无法获取的真实的dom节点。虚拟dom已经构建完毕，准备执行render函数，加载真实dom。

#### 4、mounted

> ​	真实dom、数据、事件都已经加载完毕。此时可以获取、修改dom，对数据的修改也会触发update。但是**无法保证子组件也已经被挂载**

#### 5、beforeUpdate

> ​	在数据更新时会调用，此时虚拟dom还没有更新，还可以获得更新前的dom数据。一般用于手动移除目前已经添加的一些事件监听器。

[^Tip]: 强烈反对在此时再次修改数据，会导致死循环



#### 6、updated

> ​	数据更改导致的虚拟dom重新渲染已经完成。真实dom已经更新完毕，可以获取到更新后的dom。

[^Tip]: 强烈反对在此时再次修改数据，会导致死循环

#### 7、beforeDestroyed

> ​	发生在实例被销毁之前，此时仍可以使用该实例内容。一般用于：清楚计时器、清除一些非指令绑定的事件。

#### 8、destroyed

> ​	Vue实例已经被销毁，所有东西都已经被解除绑定，如数据、监听器、子组件。



## 二、$nextTick()

​	参数为一个回调函数，用来在下次***dom更新***循环结束之后进行调用。即在数据已更改，dom已经更新后就会调用的函数。

​	这个函数可以实现在无法获得dom更新(获得)的地方，如created钩子函数的时候，设置一些dom更新时需要进行的操作。这个函数会自动在dom更新之后调用回调。

​	数据更新后，dom并不能立即更新，而需要等待的原因与Vue的异步更新队列有关。

[Vue的异步更新队列]: https://cn.vuejs.org/v2/guide/reactivity.html#%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%E9%98%9F%E5%88%97



vm.$nextTick与Vue全局函数Vue.nextTick功能完全相同，只是vm.$nextTick会让**回调函数中的this自动绑定为调用该函数的当前vue实例。**

