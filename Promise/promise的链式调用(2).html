<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<script>
  //参数 -> 函数
  //1、链式编程简化，简化了new Promise()
  // new Promise((resolve, reject) => {
  //   setTimeout(() => {
  //     resolve("aaa");
  //   }, 1000);
  // }).then(res => {
  //   console.log(res);
  //   return Promise.resolve(res + "111")
  // }).then(res => {
  //   console.log(res);
  //   return Promise.resolve(res + "222")
  // }).then(res => {
  //   console.log(res);
  // })
  //2、第二种方式，省略Promise.resolve
  // new Promise((resolve, reject) => {
  //   setTimeout(() => {
  //     resolve("aaa");
  //   }, 1000);
  // }).then(res => {
  //   console.log(res);
  //   return res + "111"
  // }).then(res => {
  //   console.log(res);
  //   return res + "222"
  // }).then(res => {
  //   console.log(res);
  // })

  //3、当异常时,注意多种写法
  new Promise((resolve, reject) => {
    setTimeout(() => {
      resolve("aaa")
    }, 1000)
  }).then(res => {
    console.log(res);
    return Promise.reject("error") 
  }).then(res => {
    console.log(res + "廖鹏");
    return new Promise((resolve, reject) => {
      resolve(res + "123")
    })
  }).then(res => {
    console.log(res);
  }).catch(err => {
    console.log(err);
  })
  
  //通过throw
  // new Promise((resolve, reject) => {
  //   setTimeout(() => {
  //     resolve("bbb")
  //   }, 1000)
  // }).then(res => {
  //   console.log(res);
  //   throw "错误"
  // }).then(res => {
  //   console.log(res + "廖鹏");
  //   return Promise.resolve(res + "321")
  // }).then(res => {
  //   console.log(res);
  // }).catch(err => {
  //   console.log(err);
  // })
</script>
</body>
</html>